# 入出力プロジェクト: コマンドラインプログラムを構築する

この章では、これまでに学んだ多くのスキルと、いくつかの標準的なライブラリ機能の概要を取り上げます。ファイルやコマンドラインの入出力と対話するコマンドラインツールを構築して、現在持っているRustの概念のいくつかを練習します。

Rustのスピード、安全性、シングルバイナリ出力、クロスプラットフォームサポートは、コマンドラインツールを作成するのに理想的な言語なので、このプロジェクトでは古典的なコマンドラインツール`grep`(**g**lobally search a **r**egular **e**xpression and **p**rint)を独自のバージョンで作成します。最も単純な使用例では、`grep`は指定されたファイルを指定された文字列で検索します。そうするために、`grep`は引数としてファイル名と文字列をとります。次に、ファイルを読み込み、そのファイル内で文字列引数を含む行を見つけ出し、それらの行を出力します。

その間、多くのコマンドラインツールが使用するターミナルの機能をコマンドラインツールで使用する方法を示します。環境変数の値を読んで、ユーザーがツールの動作を設定できるようにします。標準出力(`stdout`)の代わりに標準エラーコンソールストリーム(`stderr`)にも出力するので、例えば、ユーザは正常な出力をファイルにリダイレクトし、画面上にエラーメッセージが表示されることがあります。

あるRustのコミュニティーメンバーであるAndrew Gallantは、既に完全機能を備えた非常に高速な`grep`のバージョンを作成しました。これは`ripgrep`です。これと比較すると、grepのバージョンはかなりシンプルですが、この章では`ripgrep`のような実際のプロジェクトを理解するのに必要な知識をいくつか紹介します。

`grep`プロジェクトはこれまでに学んだ多くのコンセプトを組み合わせます。

* コードを体系化する(モジュール、第7章で学んだことを使用)
* vector型と文字列を使用する(コレクション、第8章)
* エラーを処理する(第9章)
* 適切な箇所でトレイトとライフタイムを使用する(第10章)
* テストを記述する(第11章)

また、クロージャ、イテレータ、およびトレイトオブジェクトについても簡単に紹介します（第13章および第17章で詳しく説明します）。
