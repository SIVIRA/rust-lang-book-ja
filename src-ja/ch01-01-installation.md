## インストール


最初のステップは、Rustをインストールすることです。Rustバージョンと関連ツールを管理するためのコマンドラインツールである `rustup`を通じてRustをダウンロードします。ダウンロードにはインターネット接続が必要です。
> 注：何らかの理由で `rustup`を使用したくない場合は、[Rustのインストールページ](https://www.rust-lang.org/install.html) でその他のオプションを確認してください。

以下の手順で最新の安定バージョンのRustコンパイラをインストールします。Rustの安定性は、コンパイルされた本のすべての例が新しいRustバージョンでコンパイルされ続けることを保証します。Rustはエラーメッセージと警告を改善することが多いため、出力はバージョンによって若干異なる場合があります。言い換えれば、これらの手順を使用してインストールする新しい、安定版のRustは、この本の内容で期待どおりに動作するはずです。

> ### コマンドライン表記法
>
> この章と本では、端末で使用されるコマンドをいくつか示します。端末に入力する行はすべて `$`で始まります。`$`文字を入力する必要はありません。`$`は各コマンドの開始を示します。`$`で始まらない行は通常、前のコマンドの出力を示します。さらに、PowerShell固有の例では`$`ではなく`>`が使用されます。

### LinuxやmacOSに`rustup`をインストールする

LinuxまたはmacOSを使用している場合は、端末を開いて次のコマンドを入力します。

```text
$ curl https://sh.rustup.rs -sSf | sh
```

このコマンドはスクリプトをダウンロードして、Rustの最新の安定バージョンをインストールするrustupツールのインストールを開始します。 パスワードの入力を求めるメッセージが表示される場合があります。インストールが成功すると、次の行が表示されます。

```text
Rust is installed now. Great!
```

必要に応じて、実行する前にスクリプトをダウンロードして検査してください。

インストールスクリプトは、次回のログイン後にシステムPATHに自動的にRustを追加します。端末を再起動する代わりにRustをすぐに使用したい場合は、シェルで次のコマンドを実行して、システムPATHにRustを手動で追加します。

```text
$ source $HOME/.cargo/env
```

あるいは*~/.bash_profile*に次の行を追加することもできます

```text
$ export PATH="$HOME/.cargo/bin:$PATH"
```

さらに、何らかのリンカーが必要です。既にインストールされている可能性がありますが、Rustプログラムをコンパイルしてリンカが実行できないというエラーが表示された場合は、システムにリンカがインストールされていないことを意味し、手動でインストールする必要があります。Cコンパイラには通常、適切なリンカが付属しています。Cコンパイラーのインストール方法については、ご使用のプラットフォームの資料を参照してください。また、いくつかの一般的なRustパッケージはCコードに依存しており、Cコンパイラが必要になります。したがって、今すぐインストールする価値があります。

### Windowsへのインストール

Windowsでは、[https://www.rust-lang.org/install.html][install]にアクセスし、Rustのインストール手順に従ってください。インストールのある時点で、Visual Studio 2013以降のC ++ビルドツールも必要であることを示すメッセージが表示されます。ビルドツールを入手する最も簡単な方法は、[Visual Studio 2017用のビルドツール][visualstudio]をインストールすることです。ツールはその他のツールとフレームワークセクションにあります。

[install]: https://www.rust-lang.org/install.html
[visualstudio]: https://www.visualstudio.com/downloads/

この本の残りの部分では、*cmd.exe*とPowerShellの両方で動作するコマンドを使用します。具体的な相違点がある場合は、どちらを使用するかを説明します。

### 更新とアンインストール

Rustを `rustup`経由でインストールした後、最新バージョンへの更新は簡単です。 シェルから、次の更新スクリプトを実行します。

```text
$ rustup update
```

Rustと `rustup`をアンインストールするには、シェルから以下のアンインストールスクリプトを実行します

```text
$ rustup self uninstall
```

### トラブルシューティング

Rustが正しくインストールされているかどうかを確認するには、シェルを開いてこの行を入力します

```text
$ rustc --version
```

次の形式でリリースされた最新の安定版のバージョン番号、コミットハッシュ、およびコミット日付が表示されます

```text
rustc x.y.z (abcabcabc yyyy-mm-dd)
```

この情報が表示されたら、Rustを正常にインストールしました。この情報が表示されず、Windowsの場合は、％PATH％システム変数にRustがあることを確認してください。それでも問題ないのですが、まだRustが働いていない場合は、助けとなる場所がたくさんあります。最も簡単なのはirc.mozilla.orgの[#rust IRCチャンネル][irc]<!-- ignore -->で、[Mibbit][mibbit]からアクセスできます。そのアドレスで、あなたを助けることができる他のラスト開発者とチャットすることができます。その他の素晴らしいリソースには、[Usersフォーラム][users]や[Stack Overflow][stackoverflow]などがあります。

[irc]: irc://irc.mozilla.org/#rust
[mibbit]: http://chat.mibbit.com/?server=irc.mozilla.org&channel=%23rust
[users]: https://users.rust-lang.org/
[stackoverflow]: http://stackoverflow.com/questions/tagged/rust

### ローカルドキュメント

インストーラーには、ドキュメンテーションのコピーもローカルに含まれているため、オフラインで読むことができます。`rustup doc`を実行してブラウザのローカルドキュメントを開きます。

標準ライブラリによって型または関数が提供され、その動作や使用方法がわからない場合は、アプリケーションプログラミングインターフェイス（API）のドキュメントを参照してください。
